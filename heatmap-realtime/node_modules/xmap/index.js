class xMap extends Map {

  get(key) {

    if (!Array.isArray(key) && Object.keys(key).length) {

      const arr = []

      this.forEach((mapValue, mapKey) => {
        Object.keys(mapKey).filter(mapKeyName => {
          const mapKeyValue = mapKey[mapKeyName]
          Object.keys(key).forEach(keyKeyName => {
            const keyKeyValue = key[keyKeyName]
            if (mapKeyName === keyKeyName && mapKeyValue === keyKeyValue) {
              arr.push(mapValue)
            }
          })
        })
      })

      if (arr.length === 1) {
        return arr[0]
      }

      return arr

    } else {

      return super.get(key)

    }
    
  }

}

exports.xMap = xMap